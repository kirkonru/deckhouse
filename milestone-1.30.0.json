[{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\nInstall latest version of open-vm-tools.\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nOpen-vm-tools is used use in vSphere installations. We install concrete version of open-vm-tools package. Sometimes open-vm-tools package version in distro's repositories is bumped. After that,  bashible step cannot install concrete open-vm-tools package anymore. \r\nTo avoid this problem now we install latest available version of package.  \r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: cloud-provider-vsphere\r\ntype: fix\r\ndescription: \"Install latest version of open-vm-tools\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTM4NDQz","name":"type/enhancement","description":"","color":"0052CC"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":667,"state":"MERGED","title":"[cloud-provider-vsphere] fix open-vm-tools version","url":"https://github.com/deckhouse/deckhouse/pull/667"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\nMatch only systemd cgroup driver CRIs.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n`label_replace` regexes are not suitable for the kubelet cgroup driver.","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"},{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":666,"state":"MERGED","title":"[monitoring-kubernetes] Match OOM kills only on systemd cgroup driver","url":"https://github.com/deckhouse/deckhouse/pull/666"},{"body":"","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":665,"state":"MERGED","title":"[docs] Fix broken links","url":"https://github.com/deckhouse/deckhouse/pull/665"},{"body":"## Description\r\nWrong semver lib was used\r\n\r\n## Why do we need it, and what problem does it solve?\r\nBlang semver lib doesn't parse Major.Minor versions, like \"1.19\" while Mastermind lib does. We have both cases of kubernetes versions inside the Deckhouse. So, it's better to use Mastermind lib\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: fix \r\ndescription: Fix requirements check semver lib\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7T2O5Q","name":"area/core","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":658,"state":"MERGED","title":"[deckhouse] fix requirements semver","url":"https://github.com/deckhouse/deckhouse/pull/658"},{"body":"Bashible step name fix.\r\n\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":657,"state":"MERGED","title":"[chrony] bashible step name fix","url":"https://github.com/deckhouse/deckhouse/pull/657"},{"body":"## Description\r\nBashible step fix — missed openntpd.service and time-sync.target in list.\r\n\r\n## Changelog entries\r\n```changes\r\nmodule: chrony\r\ntype: fix\r\ndescription: Bashible step fix — missed openntpd.service and time-sync.target in list.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":653,"state":"MERGED","title":"[chrony] fix ntp services list in bashible step","url":"https://github.com/deckhouse/deckhouse/pull/653"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\nDisable ntp on nodes by custom bashible step.\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nIf we want to disable usage of chrony module and use on-node ntp server, now it is no way to do it, because disable ntp daemons on nodes is general bashible step.\r\nIn this PR we replace general bashible step to disable ntp daemons on nodes with custom NodeGroupConfiguration step.\r\nIf module is disabled, custom step disappears from bashible steps.\r\nThus, we can re-enable ntp daemons on nodes by another custom NodeGroupConfiguration step.\r\nHowto do this described in FAQ.\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: chrony\r\ntype: feature\r\ndescription: \"Disable ntp on nodes by custom bashible step.\"\r\nnote:\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTM4NDQz","name":"type/enhancement","description":"","color":"0052CC"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":643,"state":"MERGED","title":"[chrony] Disable ntp on nodes by custom bashible step","url":"https://github.com/deckhouse/deckhouse/pull/643"},{"body":"Getting started and prometheus-metrics-adapter minor changes","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":642,"state":"MERGED","title":"[docs] Getting started and prometheus-metrics-adapter minor changes","url":"https://github.com/deckhouse/deckhouse/pull/642"},{"body":"## Description\r\nCorrect decision to deploy ingressgateway for multiclusters.\r\n\r\n## Why do we need it, and what problem does it solve?\r\nIt was impossible to set up ingressgateways for multicluster from scratch. Loop dependency.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: istio\r\ntype: fix\r\ndescription: Correct decision to deploy ingressgateway for multiclusters.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":640,"state":"MERGED","title":"[istio][multicluster] multiclustersNeedIngressGateway fix","url":"https://github.com/deckhouse/deckhouse/pull/640"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\nThere can be a situation when docker-ce is installed not from registry packages. So bashible fails on the next step because it assumes that containerd is installed correctly.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nFix switch from docker to containerd.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: bashible\r\ntype: fix\r\ndescription: Fix remove of docker\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":639,"state":"MERGED","title":"[bashible] Fix remove of docker","url":"https://github.com/deckhouse/deckhouse/pull/639"},{"body":"## Description\r\n\r\nNew commands from https://github.com/flant/addon-operator/pull/288 and https://github.com/flant/shell-operator/pull/345:\r\n\r\n- queue main\r\n- global snapshots\r\n- module snapshots [module]\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nSnapshots are useful for diagnostics.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7T2O5Q","name":"area/core","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":636,"state":"MERGED","title":"[deckhouse-controller] add more debug commands","url":"https://github.com/deckhouse/deckhouse/pull/636"},{"body":"## Description\r\nCheck requirements before applying a DeckhouseRelease\r\n\r\n## Why do we need it, and what problem does it solve?\r\nDeckhouseRelease can have incompatible changes. We can check requirements for the desired Release and block it if requirements are not met\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: feature\r\ndescription: Check requirements before applying a DeckhouseRelease\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":598,"state":"MERGED","title":"[deckhouse] Deckhouse release requirements","url":"https://github.com/deckhouse/deckhouse/pull/598"},{"body":"## Description\r\nFix images copier docs.\r\nAdd commands for patch deckhouse-registry secret and deployment\r\n\r\n## Why do we need it, and what problem does it solve?\r\n`How it works` section is confuse","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"},{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":591,"state":"MERGED","title":"[deckhouse][docs] Fix images copier docs","url":"https://github.com/deckhouse/deckhouse/pull/591"},{"body":"## Description\r\nAdd dynamic annotation for alert description\r\n\r\n## Why do we need it, and what problem does it solve?\r\nWe have 2 hooks for orphan secrets - for legacy and actual cert-manager. But annotation was hardcoded into the alert's description. I propose to add label with desired annotation and pass it to the description\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: cert-manager\r\ntype: feature\r\ndescription: Actualize annotation to delete in the orphan secrets alert description\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":587,"state":"MERGED","title":"[cert-manager] Add dynamic annotation for orphan-secrets alert description","url":"https://github.com/deckhouse/deckhouse/pull/587"},{"body":"## Description\r\n`globalVersion` option clarification in documentation.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: istio\r\ntype: fix\r\ndescription: \"`globalVersion` option clarification in documentation.\"\r\n```","labels":[{"id":"MDU6TGFiZWwzMjUzOTMyODcy","name":"area/network","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":584,"state":"MERGED","title":"[istio][doc] globalVersion clarification","url":"https://github.com/deckhouse/deckhouse/pull/584"},{"body":"## Description\r\nThe module option `alliance.ingressGateway.nodePort.port` to set a static port for NodePort-type ingressgateway Service.\r\n\r\n## Why do we need it, and what problem does it solve?\r\nIn some environments, we need to explicitly set the port number. So we will be able to configure some firewall rules for example.\r\n\r\n## Changelog entries\r\n\r\n```changes\r\nmodule: istio\r\ntype: feature\r\ndescription: \"`alliance.ingressGateway.nodePort.port` option to set a static port for NodePort-type ingressgateway Service.\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTM4NDQz","name":"type/enhancement","description":"","color":"0052CC"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":575,"state":"MERGED","title":"[istio][ingressgateway] static port for NodePort inlet","url":"https://github.com/deckhouse/deckhouse/pull/575"},{"body":"","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":574,"state":"MERGED","title":"[site] Add success story","url":"https://github.com/deckhouse/deckhouse/pull/574"},{"body":"## Description\r\nIf cloud provider does not present in bashible-apiserver input context will not return error for calculating checksum.\r\n\r\nIn dhctl, first will check deckhouse pod is ready and then will get and print log. It needs for add master node group. Without master node group we can get case in which control-plane manager change kublet tls settings, and dhctl cannot get logs, because kubelet certificate is become not valid.\r\n\r\nDeleted `test_data` dir with context render test.\r\n\r\n## Why do we need it, and what problem does it solve?\r\nStatic cluster does not bootstrap.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: bashible-apiserver\r\ntype: fix\r\ndescription: Fix do not render bashible bundle in static clusters .\r\n```\r\n\r\n```changes\r\nmodule: dhctl\r\ntype: fix\r\ndescription: Check deckhouse pod readiness before get logs. It fixes static cluster bootstrap.\r\n```\r\n\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"},{"id":"MDU6TGFiZWwzMjUzOTc5NDY2","name":"area/cluster-and-infrastructure","description":"","color":"C5DEF5"},{"id":"LA_kwDODNyZNs7T2N01","name":"area/cli","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":571,"state":"MERGED","title":"[node-manager][bashible-apiserver] Fix: no context for node groups in static cluster","url":"https://github.com/deckhouse/deckhouse/pull/571"},{"body":"## Description\r\nProvide an actual description for deprecated resources API versions alerts.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why do we need it, and what problem does it solve?\r\nOur alerts about deprecated resources API versions contain description about Kubernetes 1.16+.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: helm\r\ntype: fix\r\ndescription: |\r\n  Provide an actual description for deprecated resources API versions alerts.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTYxODc0","name":"area/ux","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":569,"state":"MERGED","title":"[helm] provide actual alerts description","url":"https://github.com/deckhouse/deckhouse/pull/569"},{"body":"## Description\r\nAdd label `node-role.kubernetes.io/control-plane` for master node group when cluster bootstrap.\r\nAdd migration to add label `node-role.kubernetes.io/control-plane` to node template for master nodegroup\r\n\r\n## Why do we need it, and what problem does it solve?\r\nOnly one master node has `control-plane` role\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: dhctl\r\ntype: fix\r\ndescription: All master nodes will have `control-plane` role in new clusters.\r\n```\r\n\r\n```changes\r\nmodule: global\r\ntype: feature\r\ndescription: All master nodes will have `control-plane` role in new exist clusters. \r\nnote: Add migration for adding role. Bashible steps will be rerunned on master nodes.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTc5NDY2","name":"area/cluster-and-infrastructure","description":"","color":"C5DEF5"},{"id":"LA_kwDODNyZNs7T2N01","name":"area/cli","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":562,"state":"MERGED","title":"[dhctl][global] Add control-plane role for master node group","url":"https://github.com/deckhouse/deckhouse/pull/562"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n1. Added reclaimPolicy selector.\r\n2. Changed default reclaimPolicy from Delete to Retain.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nUsers asks us to have ability to set reclaim policy for local-path-provisioner volumes.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: local-path-provisioner\r\ntype: feature\r\ndescription: \"Added reclaimPolicy selector, set default reclaimPolicy to Retain\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTM4NDQz","name":"type/enhancement","description":"","color":"0052CC"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":561,"state":"MERGED","title":"[local-path-provisioner] add reclaimPolicy field.","url":"https://github.com/deckhouse/deckhouse/pull/561"},{"body":"## Description\r\nUpdate Kubernetes patch versions.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why do we need it, and what problem does it solve?\r\nWe want to keep Kubernetes up to date.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: global\r\ntype: feature\r\ndescription: |\r\n  Update Kubernetes patch versions.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7X-1BY","name":"e2e/use/cri/containerd","description":"Use containerd for e2e tests","color":"22A264"},{"id":"LA_kwDODNyZNs7X-2Pn","name":"e2e/use/k8s/1.20","description":"Use Kubernetes 1.20 for e2e tests","color":"22A264"},{"id":"LA_kwDODNyZNs7X-2iG","name":"e2e/use/k8s/1.21","description":"Use Kubernetes 1.21 for e2e tests","color":"22A264"},{"id":"LA_kwDODNyZNs7Y3wfB","name":"e2e/use/k8s/1.22","description":"Use Kubernetes 1.22 for e2e tests","color":"22A264"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":558,"state":"MERGED","title":"[global] update kubernetes patch versions","url":"https://github.com/deckhouse/deckhouse/pull/558"},{"body":"## Description\r\nCheck okmeter agent image by tag then pull it and use by binding sha256 hash of the image\r\n\r\n## Why do we need it, and what problem does it solve?\r\nThis code allows us to use and test custom okmeter agent images\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: okmeter\r\ntype: feature\r\ndescription: \"Okmeter agent image will be checked periodically by tag and used sha256 hash to pin the image for agent.\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: okmeter\r\ntype: feature\r\ndescription: \"Okmeter agent image will be pulled by tag and used by sha256 hash.\"\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":556,"state":"MERGED","title":"[okmeter] pull and update image based on tag","url":"https://github.com/deckhouse/deckhouse/pull/556"},{"body":"## Description\r\nUpdate annotations-converter mutation webhook for being compatible with k8s v1.22\r\n\r\n## Why do we need it, and what problem does it solve?\r\nOld mutating webhook doesn't work with k8s v1.22. This code updates the webhook and makes it compatible with all supported k8s versions\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: cert-manager\r\ntype: feature\r\ndescription: Support k8s v1.22 mutating admission for annotations-converter webhook\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":554,"state":"MERGED","title":"[cert-manager] Update mutating webhook for k8s 1.22","url":"https://github.com/deckhouse/deckhouse/pull/554"},{"body":"## Description\r\nDisable legacy cert-manager (0.10.1) for 1.22 kubernetes\r\n\r\n## Why do we need it, and what problem does it solve?\r\nLegacy cert-manager APIs for webhooks and APIServices are not supported by 1.22 K8s. It leads to wrong behavior (ex. NS is stuck on deleting). We have to disable unsupported versions of the APIs by disabling legacy cert-manager.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: cert-manager\r\ntype: fix\r\ndescription:  Disable legacy cert-manager for >= 1.22 kubernetes\r\nnote: Legacy cert-manager resources (`certmanager.k8s.io`) will not be supported in 1.22+ clusters\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMzNDk0","name":"area/security","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":551,"state":"MERGED","title":"[cert-manager] Disable legacy cert-manager for K8s >= 1.22","url":"https://github.com/deckhouse/deckhouse/pull/551"},{"body":"Remove providerMachineClasses CRDs from the site.\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":549,"state":"MERGED","title":"[docs] Remove providerMachineClasses CRDs from the site","url":"https://github.com/deckhouse/deckhouse/pull/549"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\nFix clause to change node object annotations\r\n\r\n## Why do we need it, and what problem does it solve?\r\nClosing https://github.com/deckhouse/deckhouse/issues/243\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: Fix Static node template annotations updating\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTc5NDY2","name":"area/cluster-and-infrastructure","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":544,"state":"MERGED","title":"[node-manager] Fix Static node template annotations updating","url":"https://github.com/deckhouse/deckhouse/pull/544"},{"body":"## Description\r\nFix webhook\r\n\r\n## Why do we need it, and what problem does it solve?\r\nWebhook denies the request to update an existing DexAuthenticator. Ignore updating object with the same namespace/name\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: user-authn\r\ntype: fix\r\ndescription: Ignore updating an existing DexAuthenticator\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":539,"state":"MERGED","title":"[user-authn] Fix DexAuthenticator validation webhook","url":"https://github.com/deckhouse/deckhouse/pull/539"},{"body":"## Description\r\n\r\nAdd 'editions' parameter to deploy only specified editions.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nWe don't want to deploy pre-release tags for CE edition before testing FE edition.\r\n\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":535,"state":"MERGED","title":"[github] feat(ci): editions parameter to filter editions on deploy","url":"https://github.com/deckhouse/deckhouse/pull/535"},{"body":"## Description\r\nFix instructions for switching registry and image copier\r\n\r\n## Why do we need it, and what problem does it solve?\r\nInstructions had errors and users cannot switch registry\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: docs\r\ntype: fix\r\ndescription: Fix instructions for switching registry and image copier\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"},{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":533,"state":"MERGED","title":"[docs] Fix instructions for switching registry and image copier","url":"https://github.com/deckhouse/deckhouse/pull/533"},{"body":"## Description\r\nAdd validation webhook for DexAuthenticators\r\n\r\nClose https://github.com/deckhouse/deckhouse/issues/453\r\n\r\n## Why do we need it, and what problem does it solve?\r\nPair `applicationName` and `applicationIngressClassName` have to be unique through all DexAuthenticators. Without this check duplicated DexAuthenticator will fail inside the Deckhouse queue, which makes it hard to debug. We can handle this situation in the very beginning and prevent duplicated DexAuthenticator to be created.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: user-authn\r\ntype: feature\r\ndescription: Validation webhook for preventing duplicate DexAuthenticators to be created.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":530,"state":"MERGED","title":"[user-authn] Add DexAuthenticator validation webhook","url":"https://github.com/deckhouse/deckhouse/pull/530"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\nParse Deckhouse image the same way that containerd does\r\n\r\n## Why do we need it, and what problem does it solve?\r\nCloses https://github.com/deckhouse/deckhouse/issues/418\r\n\r\n## Changelog entries\r\n\r\n```changes\r\nmodule: global\r\ntype: fix\r\ndescription: Fix parsing deckhouse images repo if there is the sha256 sum in the image name\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7T2O5Q","name":"area/core","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":527,"state":"MERGED","title":"[global] Fix deckhouse image repo parsing","url":"https://github.com/deckhouse/deckhouse/pull/527"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\nAllow empty group and API version subject access reviews \r\n\r\n## Why do we need it, and what problem does it solve?\r\nSome tools like `k9s` and `kubectl can-i` do not bother filling API versions correctly, so we must satisfy their puzzling desires.\r\n\r\n## Changelog entries\r\n\r\n```changes\r\nmodule: user-authz\r\ntype: fix \r\ndescription: Allow empty group and apiVersion requests in user-authz webhook\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":526,"state":"MERGED","title":"[user-authz] Allow empty group and api version","url":"https://github.com/deckhouse/deckhouse/pull/526"},{"body":"","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":525,"state":"MERGED","title":"[prometheus][docs] Fix info about alerting in advanced monitoring mode","url":"https://github.com/deckhouse/deckhouse/pull/525"},{"body":"## Description\n\nRefactor to use structs instead of maps on serialization\n\n## Why do we need it, and what problem does it solve?\n\nWhen serializing empty slices in `map[string][]byte`, they are omitted in values.\n\n## Changelog entries\n\n```changes\nmodule: global\ntype: fix\ndescription: Fix serialization of empty strings in secrets\n```\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":523,"state":"MERGED","title":"[global] copy custom certificate: serialize with struct, not map","url":"https://github.com/deckhouse/deckhouse/pull/523"},{"body":"## Description\r\nUpdate templates to use `nindent` instead of `indent`\r\n\r\n## Why do we need it, and what problem does it solve?\r\n- Improves the readability of the code\r\n- Uniforms the look\r\n\r\n## Changelog entries\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTUyNzMx","name":"status/review","description":"","color":"7DF03C"},{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":519,"state":"MERGED","title":"Replace indent with nindent","url":"https://github.com/deckhouse/deckhouse/pull/519"},{"body":"## Description\r\nAdded \"pcre_jit on\" to nginx.tmpl for controller-0.46 and above.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why do we need it, and what problem does it solve?\r\nFor controller versions 0.46 and above, this parameter has been lost.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: ingress-nginx\r\ntype: fix\r\ndescription: Added \"pcre_jit on\" to nginx.tmpl for controller-0.46 and above\r\nnote: |\r\n  Ingress Controller >= 0.46 will be restarted\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMyODcy","name":"area/network","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":515,"state":"MERGED","title":"[ingress-nginx] add pcre_jit on in nginx.tmpl for controller-0.46 and above","url":"https://github.com/deckhouse/deckhouse/pull/515"},{"body":"## Description\r\n\r\nThis PR adds cert-exporter alerts to the extended-monitoring module\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nfollows-up #479\r\nfixes #365\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: extended-monitoring\r\ntype: feature\r\ndescription: Add cert-exporter alerts\r\nnote: |\r\n  Added alerts to track certificates expiration and cert-exporter health\r\n```\r\n\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTUyNzMx","name":"status/review","description":"","color":"7DF03C"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":512,"state":"MERGED","title":"[extended-monitoring] Add cert-exporter alerts","url":"https://github.com/deckhouse/deckhouse/pull/512"},{"body":"## Description\r\n\r\nUse upload-artifact and download-artifact to download diff only once.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nThis change helps to avoid Github throttling when validation workflow downloads diff 3 times.\r\n\r\nAlso, fix `diffFile` in validation script after #507 (#483)\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":511,"state":"MERGED","title":"[github] fix(ci): Download diff for pull request once","url":"https://github.com/deckhouse/deckhouse/pull/511"},{"body":"## Description\r\n\r\nRename label.\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nA forgotten change from #483.\r\n\r\n\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":510,"state":"MERGED","title":"[github] fix(ci): rename ok-to-test to status/ok-to-test","url":"https://github.com/deckhouse/deckhouse/pull/510"},{"body":"## Description\r\n\r\nThe start and end times of the update window must belong to the same day... Documentation should clarify this.\r\n\r\n## Changelog entries\r\n```changes\r\nmodule: deckhouse\r\ntype: fix\r\ndescription: The start and end times of the update window must belong to the same day.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":496,"state":"MERGED","title":"[docs][deckhouse] Clarification on using window updates","url":"https://github.com/deckhouse/deckhouse/pull/496"},{"body":"(Close #87)\r\n\r\n## Description\r\nFix time interval\r\n\r\n## Why do we need it, and what problem does it solve?\r\nHardcoded time interval was too short. Use ScrapeInterval x2 instead\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: fix \r\ndescription: Use scrape interval x2 instead of hardcoded value for invalid config values alerting\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":493,"state":"MERGED","title":"[deckhouse] Add alert for invalid config","url":"https://github.com/deckhouse/deckhouse/pull/493"},{"body":"","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"},{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":490,"state":"MERGED","title":"[site] Add the namespace-configurator module to the sidebar","url":"https://github.com/deckhouse/deckhouse/pull/490"},{"body":"## Description\r\nCronJobFailed alert bugfix.\r\n\r\n## Why do we need it, and what problem does it solve?\r\nThe alert didn't work.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: extended-monitoring\r\ntype: fix\r\ndescription: CronJobFailed alert bugfix.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":489,"state":"MERGED","title":"[extended-monitoring] CronJobFailed alert expr fix","url":"https://github.com/deckhouse/deckhouse/pull/489"},{"body":"## Description\r\nThe plan parameter was removed from the OpenAPI specification\r\n\r\n## Why do we need it, and what problem does it solve?\r\nThe plan parameter was removed from the configuration in 1.29 and now we can remove it from the OpenAPI specification.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: flant-integration\r\ntype: fix\r\ndescription: Remove the plan parameter from the OpenAPI specification\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":486,"state":"MERGED","title":"[flant-integration] Remove the plan parameter from the openAPI specification","url":"https://github.com/deckhouse/deckhouse/pull/486"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\nFixed notManaged mode for CRI.\r\n## Why do we need it, and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nCurrently notManaged mode don't work. Issue https://github.com/deckhouse/deckhouse/issues/407?utm=ford_plain-number-sign\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: bashible\r\ntype: fix\r\ndescription: \"Fixed notManaged mode for CRI.\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTM4NDQz","name":"type/enhancement","description":"","color":"0052CC"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":485,"state":"MERGED","title":"[bashible] fixed NotManaged mode for CRI.","url":"https://github.com/deckhouse/deckhouse/pull/485"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\nBump `oksupervisor`\r\n\r\n## Why do we need it, and what problem does it solve?\r\n\r\nThe updating mechanism was fixed. The supervisor used to roll back okagent in case of any problem with its new version and never tried to update it again. \r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: okmener\r\ntype: fix\r\ndescription: Bump oksupervisor version to fix updating problems\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":482,"state":"MERGED","title":"[okmeter] Bump version to fix agents updating process","url":"https://github.com/deckhouse/deckhouse/pull/482"},{"body":"Documentation minor fixes\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":481,"state":"MERGED","title":"[docs][prometheus-metrics-adapter] Minor doc fixes","url":"https://github.com/deckhouse/deckhouse/pull/481"},{"body":"## Description\r\nSet proper version for new ingress-nginx controller 1.0, drop the patch version.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why do we need it, and what problem does it solve?\r\nFor some reason, a couple of commits were missed during the rebase of `kubernetes-1.22` branch. \r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: ingress-nginx\r\ntype: fix\r\ndescription: |\r\n  Set proper version for new ingress-nginx controller 1.0 (drop the patch version).\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":480,"state":"MERGED","title":"[ingress-nginx] remove patch version for 1.0.4 => 1.0","url":"https://github.com/deckhouse/deckhouse/pull/480"},{"body":"## Description\r\nThis PR adds cert-exporter to the extended-monitoring module\r\n\r\n## Why we need it and what problem does it solve?\r\n\r\ncert-exporter allows to track certificates expiration.\r\n\r\nfixes https://github.com/deckhouse/deckhouse/issues/365\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: extended-monitoring\r\ntype: feature\r\ndescription: Add cert-exporter\r\nnote: |\r\n  Added cert-exporter to track certificates expiration\r\n```","labels":[{"id":"MDU6TGFiZWwzMjUzOTUyNzMx","name":"status/review","description":"","color":"7DF03C"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":479,"state":"MERGED","title":"[extended-monitoring] Add cert-exporter","url":"https://github.com/deckhouse/deckhouse/pull/479"},{"body":"## Description\r\nThis PR:\r\n- updating local-path-provisioner 0.0.20 --> 0.0.21\r\n- enables building from source code\r\n- and applies patch from https://github.com/rancher/local-path-provisioner/pull/224\r\n\r\n## Why we need it and what problem does it solve?\r\n\r\nThere is known problem https://github.com/rancher/local-path-provisioner/issues/137 which was confirmed by maintainer. It was [fixed](https://github.com/rancher/local-path-provisioner/issues/138) by me about year ago but then reverted due to silly problem on maintainers side.\r\n\r\nI do not give up hope that it will be united one time, as for now I suggest the permanent fix on our side.\r\n\r\n## Changelog entries\r\n\r\n```changes\r\nmodule: local-path-provisioner\r\ntype: fix\r\ndescription: \"Update local-path-provisioner v0.0.21, include fix\"\r\nnote: |\r\n  Protect PVs to be reused in case of unmounted storage.\r\n```\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":478,"state":"MERGED","title":"[local-path-provisioner] Update and build from source","url":"https://github.com/deckhouse/deckhouse/pull/478"},{"body":"Minor site changes","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"},{"id":"LA_kwDODNyZNs7X-xsN","name":"skip/copyright-validation","description":"Skip copyright validation in pull request","color":"F6DAB4"},{"id":"LA_kwDODNyZNs7X-yfh","name":"skip/no-cyrillic-validation","description":"Skip Cyrillic letters validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":477,"state":"MERGED","title":"[site] Minor updates","url":"https://github.com/deckhouse/deckhouse/pull/477"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\n* Fix panel titles\r\n* Fix queries\r\n\r\n## Why do we need it and what problem does it solve?\r\nThere may be a variety of CRI/OS in the cluster, which makes the home dashboard output ugly and unreadable information on version panels. The second issue is that there may be Prometheus/Grafana instances in user namespaces, which will affect the shown versions of Deckhouse modules.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: prometheus\r\ntype: fix\r\ndescription: Make Grafana home dashboard queries to only show the top-used versions  \r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":476,"state":"MERGED","title":"[prometheus] Grafana home dashboard queries improvements","url":"https://github.com/deckhouse/deckhouse/pull/476"},{"body":"Style changes","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":475,"state":"MERGED","title":"[site] Improve resource render. Update styles.","url":"https://github.com/deckhouse/deckhouse/pull/475"},{"body":"## Description\r\nCreate bash script which parce dockerd logs, found none terminating containers, verify that containers is our (deckhouse owner) and remove it\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nSometimes Docker fails to stop the container with an error, which leads to pods being stuck in terminating.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: bashible\r\ntype: feature\r\ndescription: Docker face slapper (pods stuck in terminating)\r\nnote: New step added\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTc5NDY2","name":"area/cluster-and-infrastructure","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":473,"state":"MERGED","title":"[bashible] Docker face slapper (pods stuck in terminating)","url":"https://github.com/deckhouse/deckhouse/pull/473"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\n* Delete secret if it is unused by the publish API ingress\r\n\r\n## Why we need it and what problem does it solve?\r\n1. It looks confusing when you see all the secrets in the namespace.\r\n2. Without this change, Prometheus sends alerts that there are orphaned secrets (which is excessive, we do not have a real problem in the cluster).\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: user-authn\r\ntype: fix\r\ndescription: Delete publish API secrets with not matching names to avoid the orphaned secrets alerts\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":472,"state":"MERGED","title":"[user-authn] Delete not matching secrets on publish api mode change","url":"https://github.com/deckhouse/deckhouse/pull/472"},{"body":"## Description\r\n\r\nFixes all-mighty access rights \r\n\r\n## Why we need it and what problem does it solve?\r\n\r\nFixes #169\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: upmeter\r\ntype: fix\r\ndescription: Assigned limited access rights to the agent serviceaccount\r\n```\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"},{"id":"MDU6TGFiZWwzMjUzOTMzNDk0","name":"area/security","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":469,"state":"MERGED","title":"[upmeter] Limit agent serviceaccount to access only required resources","url":"https://github.com/deckhouse/deckhouse/pull/469"},{"body":"## Description\r\nAdd basic audit policy. Collect logs about actions of service accounts from system namespaces (kube-system, d8-*) and about all actions taken on the resources from these namespaces.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nCloses https://github.com/deckhouse/deckhouse/issues/337\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: control-plane-manager\r\ntype: feature\r\ndescription: |\r\n  Add basic audit-policy.\r\nnote: |\r\n  Due to the new basic audit-policy api-server component will be restarted.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":467,"state":"MERGED","title":"[control-plane-manager] default audit policy","url":"https://github.com/deckhouse/deckhouse/pull/467"},{"body":"## Description\r\nClarify inlet LoadBalancer usage with MetalLB.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nThere was a request for our support about such a case.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: ingress-nginx\r\ntype: feature\r\ndescription: |\r\n  Add an example of usage LoadBalancer inlet with MetalLB.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":465,"state":"MERGED","title":"[ingress-nginx] clarify inlet LoadBalancer usage with MetalLB","url":"https://github.com/deckhouse/deckhouse/pull/465"},{"body":"## Description\r\n\r\nIn 'Namespaces' dashboard, VPA '%' is calculated as the count of _VPA providing requests_ divided by the _count of active controllers_. Sometimes existing VPA do not target any controller or the controllers are not active. hence, the dashboard tale shows VPA covering more than 100% of controllers.\r\n\r\nThis PR fixes the expression. It calculates the VPA coverage as the division of _VPA providing requests and targeting active controllers_ divided by the _count of active controllers_.\r\n\r\n## Why we need it and what problem does it solve?\r\n\r\nFixes #334\r\n\r\n## Changelog entries\r\n\r\n```changes\r\nmodule: \"monitoring-kubernetes\"\r\ntype: \"fix\"\r\ndescription: \"Filter VPA by actual controllers to calculate VPA coverage\"\r\n```\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"},{"id":"MDU6TGFiZWwzMjUzOTQwNDE2","name":"type/bug","description":"","color":"D93F0B"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":459,"state":"MERGED","title":"Count only VPA targeting existing controllers with existing pods","url":"https://github.com/deckhouse/deckhouse/pull/459"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\nFixed node-exporter apparmor profile.\r\n## Why we need it and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\nWith standard CRI AppArmor profile we got errors:\r\n```\r\ntype=AVC msg=audit(1639955582.902:93693): apparmor=\"DENIED\" operation=\"ptrace\" profile=\"cri-containerd.apparmor.d\" pid=315073 comm=\"node_exporter\" requested_mask=\"read\" denied_mask=\"read\" peer=\"unconfined\r\n```\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: monitoring-kubernetes\r\ntype: fix\r\ndescription: \"Fixed node-exporter apparmor profile.\"\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTQ4NDk2","name":"type/refactoring","description":"","color":"1D76DB"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":457,"state":"MERGED","title":"[prometheus] fixed node-exporter apparmor profile","url":"https://github.com/deckhouse/deckhouse/pull/457"},{"body":"## Description\r\nAdd Label `workload-resource-policy.deckhouse.io=every-node` to `vector-agent` and `chrony` VPAs, to make them take part in resources requests calculations.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nSometimes `vector-agent` and `chrony` requests resources that are not considered by our automated logic that tends to Pod become un-schedulable.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: log-shipper\r\ntype: fix\r\ndescription: |\r\n  Add VPA label `workload-resource-policy` to make it take part in resources requests calculations.\r\n---\r\nmodule: chrony\r\ntype: fix\r\ndescription: |\r\n  Add VPA label `workload-resource-policy` to make it take part in resources requests calculations.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":455,"state":"MERGED","title":"[log-shipper] [chrony] add workload-resource-policy label to VPA","url":"https://github.com/deckhouse/deckhouse/pull/455"},{"body":"## Description\r\nChange alert severity level based on pending manual releases\r\n\r\n(Close https://github.com/deckhouse/deckhouse/issues/340)\r\n\r\n## Why we need it and what problem does it solve?\r\nWe can miss the low severity alert but if we have a few pending releases - something is going wrong.\r\nWe want to increase the level and pay more attention for the alert\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: feature\r\ndescription: Different severity level based on pending DeckhouseReleases count\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":439,"state":"MERGED","title":"[deckhouse] severity level based on releases count","url":"https://github.com/deckhouse/deckhouse/pull/439"},{"body":"## Description\r\n\r\nThis PR adds the automatic-namespaces-discovery module with hook to automatically control `extended-monitoring.flant.com/enabled: \"true\"` annotation on namespaces\r\n\r\n## Why we need it and what problem does it solve?\r\n\r\nfixes #386\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: namespace-configurator\r\ntype: feature\r\ndescription: New namespace-configurator module\r\nnote: |\r\n  namespace-configurator module allows to assign annotations and labels to namespaces automatically\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: automatic-namespaces-discovery\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTUyNzMx","name":"status/review","description":"","color":"7DF03C"},{"id":"MDU6TGFiZWwzMjUzOTYxODc0","name":"area/ux","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":435,"state":"MERGED","title":"Add namespace-configurator module","url":"https://github.com/deckhouse/deckhouse/pull/435"},{"body":"## Description\r\nAdd alert for broken deckhouse config\r\n\r\n(Close #87)\r\n\r\n## Why we need it and what problem does it solve?\r\nWe don't have in place validation for deckhouse config values cm. If someone put wrong values into it we can miss a problem and will be surprised by broken/abnormally working Deckhouse\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: feature\r\ndescription: Add alert if deckhouse config is broken\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":430,"state":"MERGED","title":"[deckhouse] Add alert for invalid config","url":"https://github.com/deckhouse/deckhouse/pull/430"},{"body":"## Description\r\nFor a large number of clusters on a release channel, we want to have the ability to spread release in time\r\n\r\n## Why we need it and what problem does it solve?\r\nSpreaded release will generate less load and become more stable\r\n\r\nCloses https://github.com/deckhouse/deckhouse/issues/332\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: deckhouse\r\ntype: feature\r\ndescription: Add canary deckhouse release update\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7T2O5Q","name":"area/core","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":429,"state":"MERGED","title":"[deckhouse] Add canary deployment for releases","url":"https://github.com/deckhouse/deckhouse/pull/429"},{"body":"## Changelog v1.30.0\n\n#### [bashible]\n\n - features\n     - Docker face slapper (pods stuck in terminating)\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/473)\n         - **NOTE!** New step added\n - fixes\n     - Fix remove of docker\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/639)\n     - Fixed notManaged mode for CRI.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/485)\n\n#### [bashible-apiserver]\n\n - fixes\n     - Fix do not render bashible bundle in static clusters .\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/571)\n\n#### [cert-manager]\n\n - features\n     - Actualize annotation to delete in the orphan secrets alert description\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/587)\n     - Support k8s v1.22 mutating admission for annotations-converter webhook\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/554)\n - fixes\n     - Disable legacy cert-manager for >= 1.22 kubernetes\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/551)\n         - **NOTE!** Legacy cert-manager resources (`certmanager.k8s.io`) will not be supported in 1.22+ clusters\n\n#### [chrony]\n\n - features\n     - Disable ntp on nodes by custom bashible step.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/643)\n - fixes\n     - Bashible step fix — missed openntpd.service and time-sync.target in list.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/653)\n     - Add VPA label `workload-resource-policy` to make it take part in resources requests calculations.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/455)\n\n#### [cloud-provider-vsphere]\n\n - fixes\n     - Install latest version of open-vm-tools\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/667)\n\n#### [cluster-and-infustructure]\n\n - features\n     - Add Kubernetes 1.22 support.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/394)\n         - **NOTE!** Numerous deckhouse components would be restarted due to the upgrade of `kube-rbac-proxy`.\n\n#### [control-plane-manager]\n\n - features\n     - Add basic audit-policy.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/467)\n         - **NOTE!** Due to the new basic audit-policy api-server component will be restarted.\n\n#### [deckhouse]\n\n - features\n     - Check requirements before applying a DeckhouseRelease\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/598)\n     - Different severity level based on pending DeckhouseReleases count\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/439)\n     - Add alert if deckhouse config is broken\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/430)\n     - Add canary deckhouse release update\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/429)\n - fixes\n     - Fix requirements check semver lib\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/658)\n     - The start and end times of the update window must belong to the same day.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/496)\n     - Use scrape interval x2 instead of hardcoded value for invalid config values alerting\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/493)\n\n#### [dhctl]\n\n - fixes\n     - Check deckhouse pod readiness before get logs. It fixes static cluster bootstrap.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/571)\n     - All master nodes will have `control-plane` role in new clusters.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/562)\n\n#### [docs]\n\n - fixes\n     - Fix instructions for switching registry and image copier\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/533)\n\n#### [extended-monitoring]\n\n - features\n     - Add cert-exporter alerts\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/512)\n         - **NOTE!** Added alerts to track certificates expiration and cert-exporter health\n     - Add cert-exporter\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/479)\n         - **NOTE!** Added cert-exporter to track certificates expiration\n - fixes\n     - CronJobFailed alert bugfix.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/489)\n\n#### [flant-integration]\n\n - features\n     - Add madison-proxy notification channel to send alert from grafana to madison via proxy and show them in Polk\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/402)\n         - **NOTE!** Add rewrite rule to madison-proxy from /api/v1/alerts url to madison url, because grafana always send notification to this url.\n - fixes\n     - Remove the plan parameter from the OpenAPI specification\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/486)\n     - Implement proper HA remote-write and reduce outgoing traffic amount.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/412)\n\n#### [global]\n\n - features\n     - All master nodes will have `control-plane` role in new exist clusters.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/562)\n         - **NOTE!** Add migration for adding role. Bashible steps will be rerunned on master nodes.\n     - Update Kubernetes patch versions.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/558)\n - fixes\n     - Fix parsing deckhouse images repo if there is the sha256 sum in the image name\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/527)\n     - Fix serialization of empty strings in secrets\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/523)\n\n#### [helm]\n\n - fixes\n     - Provide an actual description for deprecated resources API versions alerts.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/569)\n\n#### [ingress-nginx]\n\n - features\n     - Add an example of usage LoadBalancer inlet with MetalLB.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/465)\n     - Add ingress-nginx controller version 1.0\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/394)\n - fixes\n     - Added \"pcre_jit on\" to nginx.tmpl for controller-0.46 and above\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/515)\n         - **NOTE!** Ingress Controller >= 0.46 will be restarted\n     - Set proper version for new ingress-nginx controller 1.0 (drop the patch version).\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/480)\n     - Always return auth request cookies (only for controllers >= 0.33)\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/368)\n         - **NOTE!** Ingress Nginx controllers >=0.33 pods will be restarted\n\n#### [istio]\n\n - features\n     - `alliance.ingressGateway.nodePort.port` option to set a static port for NodePort-type ingressgateway Service.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/575)\n - fixes\n     - Correct decision to deploy ingressgateway for multiclusters.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/640)\n     - `globalVersion` option clarification in documentation.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/584)\n\n#### [local-path-provisioner]\n\n - features\n     - Added reclaimPolicy selector, set default reclaimPolicy to Retain\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/561)\n - fixes\n     - Update local-path-provisioner v0.0.21, include fix\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/478)\n         - **NOTE!** Protect PVs to be reused in case of unmounted storage.\n\n#### [log-shipper]\n\n - fixes\n     - Add VPA label `workload-resource-policy` to make it take part in resources requests calculations.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/455)\n\n#### [monitoring-kubernetes]\n\n - features\n     - Added ebpf-exporter\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/387)\n         - **NOTE!** ebpf-exporter that monitors global and per-cgroup OOMs. With recording rules and dashboard.\n - fixes\n     - Filter VPA by actual controllers to calculate VPA coverage\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/459)\n     - Fixed node-exporter apparmor profile.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/457)\n\n#### [namespace-configurator]\n\n - features\n     - New namespace-configurator module\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/435)\n         - **NOTE!** namespace-configurator module allows to assign annotations and labels to namespaces automatically\n\n#### [node-manager]\n\n - features\n     - Added Early OOM killer\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/387)\n         - **NOTE!** Primitive early OOM that prevents nodes from getting stuck in out-of-memory conditions. Triggers when MemAvailable becomes less than 500 MiB.\n - fixes\n     - Fix Static node template annotations updating\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/544)\n\n#### [okmener]\n\n - fixes\n     - Bump oksupervisor version to fix updating problems\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/482)\n\n#### [okmeter]\n\n - features\n     - Okmeter agent image will be checked periodically by tag and used sha256 hash to pin the image for agent.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/556)\n\n#### [prometheus]\n\n - features\n     - Provisioning alerts channels from CRD's to grafana via new secret. Migrate to direct datasources.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/402)\n         - **NOTE!** Grafana will be restarted.\n            Now grafana using direct (proxy) type for deckhouse datasources (main, longterm, uncached), because direct(browse) datasources type is depreated now. And alerts don't work with direct data sources.\n            Provisioning datasources from secret instead configmap. Deckhouse datasources need client certificates to connect to  prometheus or trickter. Old cm leave to prevent mount error while terminating.\n - fixes\n     - Make Grafana home dashboard queries to only show the top-used versions\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/476)\n\n#### [prometheus-crd]\n\n - features\n     - Add GrafanaAlertsChannel CRD.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/402)\n         - **NOTE!** Support only prometheus alert manager notification channel\n\n#### [upmeter]\n\n - fixes\n     - Assigned limited access rights to the agent serviceaccount\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/469)\n\n#### [user-authn]\n\n - features\n     - Validation webhook for preventing duplicate DexAuthenticators to be created.\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/530)\n     - Update oauth2-proxy to the latest version (7.2.0)\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/368)\n         - **NOTE!** Dex Authenticators will be restarted\n - fixes\n     - Ignore updating an existing DexAuthenticator\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/539)\n     - Delete publish API secrets with not matching names to avoid the orphaned secrets alerts\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/472)\n\n#### [user-authz]\n\n - fixes\n     - Allow empty group and apiVersion requests in user-authz webhook\n         - [Pull request](https://github.com/deckhouse/deckhouse/pull/526)","labels":[{"id":"LA_kwDODNyZNs7X6GjD","name":"changelog","description":"","color":"ededed"},{"id":"LA_kwDODNyZNs7X6GjE","name":"auto","description":"","color":"ededed"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":428,"state":"MERGED","title":"Changelog v1.30.0","url":"https://github.com/deckhouse/deckhouse/pull/428"},{"body":"## Description\r\nChanges in `pricing` Grafana Agent:\r\n- Add a replica label to handle HA in the remote-write backend.\r\n- Turn off sending metadata.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nWe need properly de-duplicate metrics on the backend side.\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: flant-integration\r\ntype: fix\r\ndescription: |\r\n  Implement proper HA remote-write and reduce outgoing traffic amount.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":412,"state":"MERGED","title":"[flant-integration] add a replica label to handle ha in the remote-write backend","url":"https://github.com/deckhouse/deckhouse/pull/412"},{"body":"## Description\r\nAdd grafana notification channel support.\r\n\r\n## Why we need it and what problem does it solve?\r\nUsers need to add alerts in Grafana for non-Prometheus data sources like Clickhouse. They can save dashboards with notifications to the cluster as GrafanaDashboardDefinitions, but without notification channels, it will not work.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: prometheus-crd\r\ntype: feature\r\ndescription: Add GrafanaAlertsChannel CRD.\r\nnote: Support only prometheus alert manager notification channel\r\n---\r\nmodule: prometheus\r\ntype: feature\r\ndescription: Provisioning alerts channels from CRD's to grafana via new secret. Migrate to direct datasources.\r\nnote: |\r\n  Grafana will be restarted.\r\n  Now grafana using direct (proxy) type for deckhouse datasources (main, longterm, uncached), because direct(browse) datasources type is depreated now. And alerts don't work with direct data sources.\r\n  Provisioning datasources from secret instead configmap. Deckhouse datasources need client certificates to connect to  prometheus or trickter. Old cm leave to prevent mount error while terminating.\r\n---\r\nmodule: flant-integration\r\ntype: feature\r\ndescription: Add madison-proxy notification channel to send alert from grafana to madison via proxy and show them in Polk \r\nnote: |\r\n  Add rewrite rule to madison-proxy from /api/v1/alerts url to madison url, because grafana always send notification to this url.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwNjQ5","name":"area/monitoring","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":402,"state":"MERGED","title":"[prometheus][grafana][prometheus-crd][flant-integration] Add grafana alerts notification channels and migrate to proxy (server) data sources from direct (browser).","url":"https://github.com/deckhouse/deckhouse/pull/402"},{"body":"## Description\r\n- Add Kubernetes 1.22 support.\r\n- Remove support of Kubernetes <= 1.18.\r\n- Ingress-Nginx v1.0 added, older versions do not support Kubernetes v1.22.\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n## Why we need it and what problem does it solve?\r\nSolves [#303](https://github.com/deckhouse/deckhouse/issues/303).\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: ingress-nginx\r\ntype: feature\r\ndescription: \"Add ingress-nginx controller version 1.0\"\r\n---\r\nmodule: cluster-and-infustructure\r\ntype: feature\r\ndescription: \"Add Kubernetes 1.22 support.\"\r\nnote: |\r\n  Numerous deckhouse components would be restarted due to the upgrade of `kube-rbac-proxy`.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":394,"state":"MERGED","title":"[global] kubernetes 1.22","url":"https://github.com/deckhouse/deckhouse/pull/394"},{"body":"## Description\r\n<!---\r\n  Describe your changes in detail.\r\n\r\n  Please let users know if your feature influences critical cluster components\r\n  (restarts of ingress-controllers, control-plane, Prometheus, etc).\r\n-->\r\n\r\n1. ebpf-exporter that monitors global and per-cgroup OOMs. With recording rules and dashboard.\r\n2. Primitive early OOM that prevents nodes from getting stuck in out-of-memory conditions.\r\n\r\n## Why we need it and what problem does it solve?\r\n<!---\r\n  This is the most important paragraph.\r\n  You have to describe the main goal of your feature.\r\n\r\n  If it fixes an issue, place a link to the issue here.\r\n\r\n  If it fixes an obvious bug, please tell users about the impact and effect of the problem.\r\n-->\r\n\r\nProvide a simple early oom killer which prevents Nodes from getting stuck, while kernel tries to free up memory pages and not trigger OOM killer.\r\n\r\nkubelet generates OOMKilled Events only when PID 1 of a container dies. It skips Node-level OOMs and non-pid 1 oomkills.\r\n\r\nPreviously, we've had based on klog parsing. It was inefficient and consumed lots of memory.\r\n\r\nThe proposed ebpf-exporter based solution works on Ubuntu with kernel version >5.4. It has a hook that schedules ebpf-exporter DaemonSet only on those Nodes.\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: monitoring-kubernetes\r\ntype: feature\r\ndescription: Added ebpf-exporter\r\nnote: |\r\n  ebpf-exporter that monitors global and per-cgroup OOMs. With recording rules and dashboard.\r\n---\r\nmodule: node-manager\r\ntype: feature\r\ndescription: Added Early OOM killer\r\nnote: |\r\n  Primitive early OOM that prevents nodes from getting stuck in out-of-memory conditions. Triggers when MemAvailable becomes less than 500 MiB.\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":387,"state":"MERGED","title":"[monitoring-kubernetes][node-manager] Early OOM killer and ebpf exporter","url":"https://github.com/deckhouse/deckhouse/pull/387"},{"body":"Signed-off-by: m.nabokikh <maksim.nabokikh@flant.com>\r\n\r\n## Description\r\n* Update `oauth2-proxy` to the latest version, rebase the cookie-refresh patch (will fix logs problems and some more)\r\n* Add the `always-return-auth-cookie` patch for ingress-nginx.\r\n\r\nAnd also:\r\n* Remove the `nginx-ingress` module deprecation metrics and alerts\r\n\r\n## Why do we need it, and what problem does it solve?\r\nUsers had to log in again to Dashbaord, Grafana, and OpenVPN sometimes. The sign of the problems was the `refresh token claimed twice` message in Dex logs.\r\n\r\nDuring debugging we found, that Dex and oauth2-proxy always return the correct token/right cookies. The real issue is that ingress-nginx uses the add_header directive along with the auth_request module to return cookies to a user.\r\n\r\nOn token refreshing:\r\n1. User goes to Grafana domain\r\n2. The auth_request goes to oauth2-proxy, which returns a cookie\r\n3. ingress-nginx sets the cookies to the proxy response with the add_header directive\r\n4. ingress-nginx proxies the request to Grafana\r\n5. **THE PROBLEM** [add_header](https://nginx.org/en/docs/http/ngx_http_headers_module.html#add_header) only works if Grafana respond with an appropriate code\r\n6. User loses the newly issued refresh token, and the old one is already considered as the stale token\r\n\r\nTo solve the problem, we only need to add `always` to the add_header option, thus our cookies will not be affected by the response code (I picked this solution and did it with a patch). \r\n\r\nThe other way is to use the Lua code snippet, which doesn't not seem as a solid long-living solution:\r\n```lua\r\nnginx.ingress.kubernetes.io/configuration-snippet: |\r\n  access_by_lua_block {\r\n     ngx.header[\"Set-Cookie\"] = ngx.var.auth_cookie\r\n  }\r\n```\r\n\r\n## Changelog entries\r\n<!---\r\n  Describe the changes so they will be included in a release changelog.\r\n  Find examples and documentation below.\r\n-->\r\n\r\n```changes\r\nmodule: user-authn\r\ntype: feature\r\ndescription: Update oauth2-proxy to the latest version (7.2.0)\r\nnote: |\r\n  Dex Authenticators will be restarted\r\n---\r\nmodule: ingress-nginx\r\ntype: fix\r\ndescription: Always return auth request cookies (only for controllers >= 0.33)\r\nnote: |\r\n  Ingress Nginx controllers >=0.33 pods will be restarted\r\n```\r\n\r\n<!---\r\nABOUT CHANGES BLOCK\r\n\r\n\"Changes\" block contains a list of YAML documents. It describes a changelog\r\nentry that is collected to a release changelog.\r\n\r\nFields:\r\n\r\nmodule\r\n    Required. Affected module in kebab case, e.g. \"node-manager\".\r\ntype\r\n    Required. The change type: only \"fix\" and \"feature\" supported.\r\ndescription\r\n    Optional. The changelog entry. Omit to use pull request title.\r\nnote\r\n    Optional. Any notable detail, e.g. expected restarts, downtime, config changes, migrations, etc.\r\n\r\nSince the syntax is YAML, `note` may contain multi-line text.\r\n\r\nThere can be multiple docs in single `changes` block, and multiple `changes`\r\nblocks in the PR body.\r\n\r\nExample:\r\n\r\n```changes\r\nmodule: node-manager\r\ntype: fix\r\ndescription: \"Nodes with outdated manifests are no longer provisioned on *InstanceClass update.\"\r\nnote: |\r\n  Expect nodes of \"Cloud\" type to restart.\r\n\r\n  Node checksum calculation is fixes as well as a race condition during\r\n  the machines (MCM) rendering which caused outdated nodes to spawn.\r\n---\r\nmodule: cloud-provider-aws\r\ntype: feature\r\ndescription: \"Node restarts can be avoided by pinning a checksum to a node group in config values.\"\r\nnote: Recommended to use as a last resort.\r\n```\r\n\r\n-->\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTMwOTcz","name":"area/auth","description":"","color":"C5DEF5"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":368,"state":"MERGED","title":"[user-authn] Fix flaky DexAuthenticator refresh token loss","url":"https://github.com/deckhouse/deckhouse/pull/368"},{"body":"## Description\r\nMarkup updates and other minor fixes.\r\n","labels":[{"id":"MDU6TGFiZWwzMjUzOTU2NTU3","name":"area/docs","description":"","color":"BFD4F2"},{"id":"LA_kwDODNyZNs7X-yGW","name":"skip/documentation-validation","description":"Skip documentation validation in pull request","color":"F6DAB4"}],"milestone":{"number":6,"title":"v1.30.0","description":"","dueOn":null},"number":359,"state":"MERGED","title":"[docs][log-shipper][node-manager] Minor fixes","url":"https://github.com/deckhouse/deckhouse/pull/359"}]
